<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Jobs Légaux - GTA New</title>
<link rel="stylesheet" href="assets/style.css">
<script src="https://kit.fontawesome.com/4b7e65eb9f.js" crossorigin="anonymous"></script>
<style>
  /* même style que index */
  :root{--violet:#4b0082;--violet-light:#9d4edd;--bg:#0d0017;--panel:#1e1e1e;--card:#0e0e0e;--muted:#999;}
  body{margin:0;font-family:Arial,Helvetica,sans-serif;background:var(--bg);color:#fff;min-height:100vh;display:flex;flex-direction:column;}
  header{background:var(--violet);padding:14px 28px;display:flex;align-items:center;gap:24px;}
  .logo{height:48px;}
  nav ul{list-style:none;margin:0;padding:0;display:flex;gap:18px;align-items:center;}
  nav a{color:#fff;text-decoration:none;font-weight:600;}
  nav a:hover, nav a.active{color:var(--violet-light);}
  .search-bar{flex:1;display:flex;justify-content:center;}
  .search-bar input{width:70%;max-width:650px;padding:12px 16px 12px 44px;border-radius:24px;border:none;background:#1e1e1e;color:#fff;font-size:15px;outline:none;}
  .search-bar .fa-search{position:relative;left:36px;top:12px;color:var(--muted);pointer-events:none;}

  main{display:grid;grid-template-columns:250px 1fr 220px;gap:20px;margin:28px;flex:1;}
  .recent{background:var(--panel);padding:18px;border-radius:10px;}
  .recent h2{margin:0 0 12px;color:#ccc;font-size:18px;}
  .recent-item{background:#0f0f0f;border:1px solid #333;padding:10px;border-radius:8px;margin-bottom:10px;transition:0.15s;}
  .recent-item:hover{border-color:var(--violet-light);background:#141214;}
  .recent-item h3{margin:0;color:var(--violet-light);font-size:15px;}
  .recent-item p{margin:4px 0 0;color:#aaa;font-size:13px;}
  .recent-item a{color:inherit;text-decoration:none;display:block;}

  .cards-wrapper{background:var(--panel);padding:24px;border-radius:12px;}
  .cards-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px;}
  .cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:18px;}
  .card{background:var(--card);padding:18px;border-radius:12px;border:2px solid rgba(255,255,255,0.06);text-align:center;transition:transform .12s,box-shadow .12s;}
  .card:hover{transform:translateY(-6px);box-shadow:0 12px 30px rgba(0,0,0,0.6);}
  .card-img{width:100px;height:100px;object-fit:contain;margin-bottom:12px;}
  .card h3{color:var(--violet-light);margin:6px 0;}
  .card p{color:#ddd;font-size:14px;}
  .card a{display:inline-block;margin-top:10px;color:var(--violet-light);font-weight:700;text-decoration:none;}
  .card.hidden{display:none!important;}
  .cards.list-view{display:flex;flex-direction:column;gap:12px;}
  .cards.list-view .card{display:flex;align-items:center;text-align:left;gap:14px;padding:12px 16px;}
  .cards.list-view .card-img{width:84px;height:84px;margin:0;}

  .actions{width:220px;background:var(--panel);padding:16px;border-radius:10px;align-self:flex-start;}
  .actions h2{margin:0 0 10px;color:#ccc;font-size:18px;}
  .actions button{display:flex;align-items:center;gap:10px;width:100%;background:none;border:none;color:var(--violet-light);padding:8px 0;cursor:pointer;font-weight:700;text-align:left;}
  .actions button:hover{color:#fff;}

  body.light-mode{background:#f5f5f5;color:#000;}
  body.light-mode .cards-wrapper,body.light-mode .recent,body.light-mode .actions{background:#eee;}
  body.light-mode .card,body.light-mode .recent-item{background:#fff;color:#000;border-color:#ddd;}

  @media(max-width:960px){
    main{grid-template-columns:1fr;}
    .actions{order:3;width:100%;}
    .recent{order:1;width:100%;}
    .cards-wrapper{order:2;width:100%;}
  }
</style>
</head>
<body>

<header>
  <img src="assets/logo.png" alt="GTANew" class="logo">
  <nav>
    <ul>
      <li><a href="index.html">Accueil</a></li>
      <li><a href="regles.html">Règles</a></li>
      <li><a href="jobs-legaux.html" class="active">Jobs légaux</a></li>
      <li><a href="jobs-illegaux.html">Jobs illégaux</a></li>
      <li><a href="tutoriels.html">Tutoriels</a></li>
      <li><a href="generales.html">Générales</a></li>
      <li><a href="discord.html">Discord</a></li>
    </ul>
  </nav>
  <div class="search-bar">
    <i class="fas fa-search"></i>
    <input id="searchInput" type="text" placeholder="Rechercher...">
  </div>
</header>

<main>
  <!-- Ajouts récents -->
  <aside class="recent" id="recentContainer">
    <h2>Ajouts récents</h2>
  </aside>

  <!-- Cartes centrales -->
  <section class="cards-wrapper">
    <div class="cards-header">
      <h2>Jobs Légaux</h2>
      <select id="sortSelect" aria-label="Trier">
        <option value="name">Trier par Nom</option>
        <option value="date">Trier par Date</option>
      </select>
    </div>
    <div class="cards" id="cardsContainer">
      <div class="card" data-date="2025-09-13" data-link="metiers.html">
        <img class="card-img" src="assets/jobs_legaux.png" alt="Métiers">
        <h3>Métiers</h3>
        <p>Découvrez la liste des métiers légaux accessibles.</p>
        <a href="metiers.html">Voir les métiers</a>
      </div>
      <div class="card" data-date="2025-09-13" data-link="pole-emploi.html">
        <img class="card-img" src="assets/pole_emploi.png" alt="Pôle Emploi">
        <h3>Pôle Emploi</h3>
        <p>Inscrivez-vous et trouvez un emploi adapté.</p>
        <a href="pole-emploi.html">Accéder au Pôle Emploi</a>
      </div>
      <div class="card" data-date="2025-09-13" data-link="recrutement.html">
        <img class="card-img" src="assets/recrutement.png" alt="Recrutement">
        <h3>Comment se faire recruter</h3>
        <p>Découvrez les étapes pour postuler à un job légal.</p>
        <a href="recrutement.html">Lire le guide</a>
      </div>
    </div>
  </section>

  <!-- Actions -->
  <aside class="actions">
    <h2>Actions</h2>
    <button onclick="setGrid()"><i class="fas fa-th-large"></i> Vue grille</button>
    <button onclick="setList()"><i class="fas fa-list"></i> Vue liste</button>
    <button onclick="showKeywords()"><i class="fas fa-tags"></i> Voir mots-clés</button>
    <button id="themeToggle" onclick="toggleTheme()"><i class="fas fa-adjust"></i> Mode clair</button>
  </aside>
</main>

<script>
  const searchInput=document.getElementById('searchInput');
  const cardsContainer=document.getElementById('cardsContainer');
  const sortSelect=document.getElementById('sortSelect');
  const recentContainer=document.getElementById('recentContainer');
  const themeBtn=document.getElementById('themeToggle');

  function getCardsArray(){return Array.from(document.querySelectorAll('.card'));}
  searchInput.addEventListener('input',()=>{const q=searchInput.value.trim().toLowerCase();getCardsArray().forEach(c=>{c.classList.toggle('hidden',q!==''&&!c.innerText.toLowerCase().includes(q));});});
  sortSelect.addEventListener('change',()=>{const arr=getCardsArray();if(sortSelect.value==='name'){arr.sort((a,b)=>a.querySelector('h3').innerText.localeCompare(b.querySelector('h3').innerText));}else{arr.sort((a,b)=>new Date(b.dataset.date)-new Date(a.dataset.date));}arr.forEach(c=>cardsContainer.appendChild(c));refreshRecent();});
  function setList(){cardsContainer.classList.add('list-view');localStorage.setItem('gtn_view','list');}
  function setGrid(){cardsContainer.classList.remove('list-view');localStorage.setItem('gtn_view','grid');}
  function toggleTheme(){const isLight=document.body.classList.toggle('light-mode');themeBtn.innerHTML='<i class="fas fa-adjust"></i> '+(isLight?'Mode sombre':'Mode clair');localStorage.setItem('gtn_theme',isLight?'light':'dark');}
  function showKeywords(){alert('Voir les mots-clés (à implémenter)');}
  function refreshRecent(){const arr=getCardsArray().slice().sort((a,b)=>new Date(b.dataset.date)-new Date(a.dataset.date));recentContainer.innerHTML='<h2>Ajouts récents</h2>';arr.slice(0,3).forEach(c=>{const t=c.querySelector('h3').innerText;const l=c.dataset.link||c.querySelector('a')?.getAttribute('href')||'#';const d='13/09/2025';const i=document.createElement('div');i.className='recent-item';i.innerHTML=`<a href="${l}"><h3>${t}</h3><p>Modifié le ${d}</p></a>`;recentContainer.appendChild(i);});}
  window.addEventListener('DOMContentLoaded',()=>{const t=localStorage.getItem('gtn_theme')||'dark';if(t==='light'){document.body.classList.add('light-mode');themeBtn.innerHTML='<i class="fas fa-adjust"></i> Mode sombre';}else themeBtn.innerHTML='<i class="fas fa-adjust"></i> Mode clair';const v=localStorage.getItem('gtn_view')||'grid';if(v==='list')setList();else setGrid();refreshRecent();});
</script>

</body>
</html>
